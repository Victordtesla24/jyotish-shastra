/**
 * Visual Components Protection CSS
 * Fixes broken visual elements after Phase 1 CSS enhancements
 * 
 * CRITICAL: This file protects visual components from global CSS conflicts
 * WITHOUT modifying any functional code or breaking existing features
 * 
 * Components Protected:
 * 1. PreLoader (loading animation)
 * 2. FloatingElements (starry background)
 * 3. PlanetaryAnimations (Saturn with rings)
 * 4. WorkParticles (parallax effect)
 */

/* ============================================
   PreLoader Protection - Override Global Conflicts
   ============================================ */

/* Ensure PreLoader is ALWAYS visible when rendered */
.preloader-overlay,
[data-preloader="chris-cole"] {
  position: fixed !important;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  z-index: 99999 !important;
  pointer-events: all !important;
}

.preloader-core {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.preloader-ring {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Hide preloader label to match Chris Cole template - NO TEXT */
.preloader-label {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}

/* ============================================
   FloatingElements Protection - Starry Background
   ============================================ */

/* Ensure floating elements container is visible */
.floating-elements-container {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 1 !important; /* Behind content but visible */
  pointer-events: none !important;
  overflow: visible !important;
}

/* Protect individual floating elements */
.floating-element {
  position: absolute !important;
  z-index: 1 !important;
  pointer-events: none !important;
}

/* Ensure floating symbols are visible */
.floating-symbol {
  display: inline-block !important;
  visibility: visible !important;
  opacity: 0.7 !important;
  filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5)) !important;
}

/* ============================================
   PlanetaryAnimations Protection - Saturn
   ============================================ */

/* Container positioning is handled by chris-cole-enhancements.css - DO NOT OVERRIDE */

/* Saturn SVG - ensure visibility */
.saturn-chris-cole {
  display: block !important;
  visibility: visible !important;
  opacity: 0.8 !important;
  position: absolute !important;
  z-index: 1 !important;
  pointer-events: none !important;
}

/* Protect Saturn SVG elements */
.saturn-chris-cole circle,
.saturn-chris-cole ellipse {
  display: block !important;
  visibility: visible !important;
}

/* ============================================
   WorkParticles Protection - Parallax Effect
   ============================================ */

/* Protect WorkParticles button */
.work-particles-link {
  position: relative !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  background: transparent !important;
  border: none !important;
  cursor: pointer !important;
  padding: 1.25rem 2.5rem !important;
}

/* Protect WorkParticles text */
.chris-cole-nav-heading {
  display: block !important;
  visibility: visible !important;
  font-family: 'Roboto', sans-serif !important;
  font-weight: 300 !important;
  font-size: clamp(0.75rem, 1.5vw, 0.875rem) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.15em !important;
  color: rgba(255, 255, 255, 0.5) !important;
  z-index: 2 !important;
}

/* Protect PixiJS canvas container */
.work-particles-canvas {
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  width: 120px !important;
  height: 40px !important;
  z-index: 1 !important;
  pointer-events: none !important;
}

/* Protect PixiJS canvas element */
.work-particles-canvas canvas {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  width: 100% !important;
  height: 100% !important;
}

/* WorkParticles hover state */
.work-particles-link:hover .chris-cole-nav-heading {
  color: rgba(255, 255, 255, 0.9) !important;
  letter-spacing: 0.2em !important;
}

/* WorkParticles active state */
.work-particles-link.is-active .chris-cole-nav-heading {
  color: rgba(255, 255, 255, 1) !important;
  font-weight: 400 !important;
}

/* ============================================
   Z-Index Stacking Context - Proper Layering
   ============================================ */

/* Establish proper z-index hierarchy */
/* Layer 0: Background elements */
.floating-elements-container,
.planetary-animations-container-chris-cole {
  z-index: 1 !important;
}

/* Layer 1: Navigation and content */
.work-particles-link,
.App-nav {
  z-index: 10 !important;
}

/* Layer 2: Interactive UI elements */
.App-main {
  z-index: 5 !important;
  position: relative !important;
}

/* Layer 3: Preloader (topmost) */
.preloader-overlay {
  z-index: 99999 !important;
}

/* ============================================
   Performance Optimizations
   ============================================ */

/* GPU acceleration for animated elements */
.floating-element,
.saturn-chris-cole,
.work-particles-canvas {
  will-change: transform !important;
  transform: translateZ(0) !important;
}

/* Smooth animations */
.floating-symbol,
.saturn-chris-cole {
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
}

/* ============================================
   Responsive Adjustments
   ============================================ */

@media (max-width: 768px) {
  /* Scale down Saturn on mobile */
  .saturn-chris-cole {
    width: 80px !important;
    height: 80px !important;
  }

  /* Adjust floating elements for mobile */
  .floating-symbol {
    font-size: 1.5rem !important;
  }

  /* Ensure WorkParticles responsive */
  .work-particles-canvas {
    width: 100px !important;
    height: 35px !important;
  }
}

@media (max-width: 480px) {
  /* Further scale down on small mobile */
  .saturn-chris-cole {
    width: 60px !important;
    height: 60px !important;
  }

  .floating-symbol {
    font-size: 1.2rem !important;
  }

  .work-particles-canvas {
    width: 80px !important;
    height: 30px !important;
  }
}

/* ============================================
   Accessibility - Reduced Motion Support
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .floating-element,
  .saturn-chris-cole,
  .work-particles-canvas {
    animation: none !important;
    transition: none !important;
  }

  /* Hide decorative animations for reduced motion */
  .floating-elements-container,
  .planetary-animations-container-chris-cole,
  .work-particles-canvas {
    display: none !important;
  }

  /* Keep text visible */
  .chris-cole-nav-heading {
    display: block !important;
  }
}

/* ============================================
   Print Styles - Hide Decorative Elements
   ============================================ */

@media print {
  .preloader-overlay,
  .floating-elements-container,
  .planetary-animations-container-chris-cole,
  .work-particles-canvas {
    display: none !important;
  }
}

/* ============================================
   High Contrast Mode Support
   ============================================ */

@media (prefers-contrast: high) {
  .floating-symbol {
    filter: none !important;
    opacity: 1 !important;
  }

  .saturn-chris-cole {
    opacity: 1 !important;
    filter: none !important;
  }

  .preloader-label {
    color: rgba(255, 255, 255, 1) !important;
  }
}
